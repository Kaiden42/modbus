<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Modbus Demo</title>
<link href="../static/main.css" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
<style>

</style>
</head>

<body>
	<head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
      <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    </head>
<div id="wrapper">
		<header id="header"> <label id="logo">Modbus Demo</label></header>
		<section>
				<h2>RTU Modbus</h2>
				<div class="switch">
						<input id="toggle-1" class="toggle" type="checkbox"/>
						<label for="toggle-1"></label>
						<div id='status1' style="visibility:collapse;">Untoggled1</div>
				</div>
				<h2>TCP Modbus</h2>
				<div class="switch">
						<input id="toggle-2" class="toggle" type="checkbox" />
						<label for="toggle-2"></label>
						<div id='status2' style="visibility:collapse;">Untoggled2</div>
				</div>
		</section>
</div>
</body>
<script>
	$(document).ready(function() {
		  $('#toggle-1').click(function() {
			   var current_status = $('#status1').text();
			   $.ajax({
					url: "/get_toggled_rtu_status",
					type: "get",
					 data: {status: current_status},
					 success: function(response) {
					  $("#status1").html(response);
					 },
					 error: function(xhr) {
					  //Do Something to handle error
					 }
			   });
		  }),
		  $('#toggle-2').click(function() {
			   var current_status = $('#status2').text();
			   $.ajax({
					url: "/get_toggled_tcp_status",
					type: "get",
					 data: {status: current_status},
					 success: function(response) {
					  $("#status2").html(response);
					 },
					 error: function(xhr) {
					  //Do Something to handle error
					 }
			   });
		  });
	});
</script>
</html>
